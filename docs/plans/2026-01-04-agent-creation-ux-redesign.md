# Agent Creation UX Redesign

> 设计日期：2026-01-04
> 状态：提案

## 1. 背景与问题

### 1.1 用户痛点
- 创建 agent 时被迫面对大量高级配置，信息噪音高。
- Tools/Sub-Agents/Skills/Commands 默认为必经流程，实际多数场景并不需要。
- 创建、运行、对话、日志混在同一屏，任务语义冲突。
- 缺少清晰的“创建完成”定义，导致操作反复与中断。

### 1.2 设计目标
- 新手：一步步创建，知道何时可启动。
- 老手：3 个字段即可完成创建并启动。
- 系统：可选能力后置，降低默认认知负担。
- 结构：创建与运行解耦，避免任务切换干扰。

### 1.3 非目标
- 不改变现有后端数据结构与运行逻辑。
- 不新增复杂模板市场或权限系统。

---

## 2. 核心策略（混合模式）

### 2.1 双入口
- 快速创建（推荐）：最短路径，3 个必填字段。
- 向导创建（新手）：按步骤引导，可随时跳过可选模块。

### 2.2 可选能力后置
- Tools/Sub-Agents/Skills/Commands 以卡片形式出现，默认收起。
- 每个模块明确“可稍后配置”。

### 2.3 视图分离
- Create View 专注创建与配置。
- Run View 专注运行、对话、日志。
- 创建完成后自动切换至 Run View。

---

## 3. 信息架构

### 3.1 Create View
1) 顶部主入口：Create Agent
2) 主体：快速创建卡片 + 向导入口
3) 可选能力区（折叠）
4) 高级配置区（折叠）

### 3.2 Run View
1) 运行状态条（Agent 名称、状态、停止/配置按钮）
2) Conversation 面板
3) Live Logs 面板

---

## 4. 创建流程

### 4.1 快速创建流程
- 输入 Config ID（实时校验 + 自动建议）
- 输入 Display Name
- 选择 Prompt 模板（默认 Claude Base）
- 点击“创建并启动”或“仅创建”
- 进入 Run View

### 4.2 向导创建流程
Step 1: 基础信息
Step 2: 模块选择（Tools/Sub-Agents/Skills/Commands 可选）
Step 3: 模块配置（仅对已启用模块展开）
Step 4: 复核与启动

可在任一步点击“稍后配置”直接跳到复核。

---

## 5. 关键组件规格

### 5.1 快速创建卡片
- 字段：Config ID / Display Name / Prompt Template
- 操作：创建并启动 / 仅创建
- 校验：Config ID 合法性 + 唯一性提示

### 5.2 模块卡片（可选能力）
- 标题 + 一句话价值说明
- 状态：未启用 / 已启用 / 配置完成
- 按钮：启用 / 暂不 / 配置

### 5.3 高级配置折叠区
- 权限模式、模型、文件与配置、验证
- 默认折叠，仅在需要时展开

### 5.4 Run View 状态条
- 状态：Running / Stopped / Error
- 操作：Start / Stop / Configure

---

## 6. 文案与提示

### 6.1 顶部提示
- “多数 Agent 只需 3 个字段即可启动”

### 6.2 模块卡片说明
- Tools: “让 Agent 可调用外部工具”
- Sub-Agents: “让 Agent 能分工协作”
- Skills: “让 Agent 具备专用知识”
- Commands: “自定义快捷指令”

### 6.3 校验提示
- Config ID 不合法时：提供可用示例（如 code-assistant-1）
- Prompt 模板提示：标注“推荐/默认”

---

## 7. 交互与状态

- Create View 中不展示对话与日志，避免分心。
- 只有在 Agent 已启动时才允许对话输入。
- 可选能力在未启用时不显示内部配置表单。
- 配置完成度以“已配置/未配置”标签体现。

---

## 8. 成功指标

- 创建完成时间下降（目标：-40%）
- 创建放弃率下降（目标：-30%）
- 新手首次成功启动率提升（目标：+25%）

---

## 9. 风险与缓解

- 风险：用户错过高级配置，导致运行异常
  - 缓解：运行前复核页提示“高级配置未设置”
- 风险：向导过长
  - 缓解：模块选择页前置，支持快速跳过

---

## 10. 后续落地建议

- 先改信息架构与流程，后改视觉语言。
- 保留当前配置结构，先做折叠/分层。
- 在 Run View 增加“Configure”入口保持可达性。
