try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="0eea569d-60b2-4607-a5a1-c1ef95690075",e._sentryDebugIdIdentifier="sentry-dbid-0eea569d-60b2-4607-a5a1-c1ef95690075")}catch(e){}{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[new e.Error().stack]=Object.assign({},e._sentryModuleMetadata[new e.Error().stack],{"_sentryBundlerPluginAppKey:anthropic-apps":!0})}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[67747],{0x77a6f0a:(e,t,a)=>{a.d(t,{$W:()=>p,Iq:()=>d,OW:()=>x,Ob:()=>m,V1:()=>f,Vl:()=>c,l_:()=>u});var s=a(0x12c9046cd),l=a(0x14dc7c241),n=a(0x1016c6ed2),r=a(0x49fac030),i=a(0xc1dd9efc),o=a(0x17e725145);let d=e=>{let{enabled:t=!0,includeArchived:a=!1}=e,{account:n,activeOrganization:o}=(0,l.YL)(),d=(0,i.yI)(n,o,i.Nt.WorkspacesView);return(0,s.Sk)("/api/console/organizations/".concat(null==o?void 0:o.uuid,"/workspaces").concat(a?"?include_archived=true":""),{enabled:t&&d,queryKey:[r.QR,{orgId:null==o?void 0:o.uuid,includeArchived:a}]})},c=e=>{let{enabled:t=!0,workspaceId:a}=e,{account:d,activeOrganization:c}=(0,l.YL)(),u=(0,o.useQueryClient)(),x=t&&!f(a)&&(0,i.yI)(d,c,i.Nt.WorkspacesView);return(0,s.Sk)("/api/console/organizations/".concat(null==c?void 0:c.uuid,"/workspaces/").concat(a),{enabled:x,queryKey:[r.m1,{orgId:null==c?void 0:c.uuid,workspaceId:a}],initialData:()=>{var e;return null==(e=u.getQueryData([r.QR,{orgId:null==c?void 0:c.uuid,includeArchived:!1}]))?void 0:e.find(e=>e.id===a)},meta:{noToast:e=>e instanceof n.LG&&404===e.statusCode}})};function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{activeOrganization:a,account:n}=(0,l.YL)(),d=(0,i.yI)(n,a,i.Nt.WorkspacesManage),c="/api/console/organizations/".concat(null==a?void 0:a.uuid,"/workspaces/").concat(e),u=(0,o.useQueryClient)();return(0,s.L2)(c,"POST",{enabled:d,...t,async onSuccess(e){for(var s,l=arguments.length,n=Array(l>1?l-1:0),i=1;i<l;i++)n[i-1]=arguments[i];u.setQueryData([r.m1,{orgId:null==a?void 0:a.uuid,workspaceId:e.id}],e),await u.invalidateQueries({queryKey:[r.QR,{orgId:null==a?void 0:a.uuid,includeArchived:!1}]}),await (null==(s=t.onSuccess)?void 0:s.call(t,e,...n))}})}function x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{activeOrganization:a,account:n}=(0,l.YL)(),d=(0,i.yI)(n,a,i.Nt.WorkspacesManage),c="/api/console/organizations/".concat(null==a?void 0:a.uuid,"/workspaces/").concat(e,"/archive"),u=(0,o.useQueryClient)();return(0,s.L2)(c,"POST",{enabled:d,...t,async onSuccess(){for(var e,s=arguments.length,l=Array(s),n=0;n<s;n++)l[n]=arguments[n];await u.invalidateQueries({queryKey:[r.QR,{orgId:null==a?void 0:a.uuid,includeArchived:!1}]}),await u.invalidateQueries({queryKey:[r.QR,{orgId:null==a?void 0:a.uuid,includeArchived:!0}]}),await (null==(e=t.onSuccess)?void 0:e.call(t,...l))}})}let m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{account:t,activeOrganization:a}=(0,l.YL)(),n=(0,i.yI)(t,a,i.Nt.WorkspacesManage),d=(0,o.useQueryClient)();return(0,s.L2)("/api/console/organizations/".concat(null==a?void 0:a.uuid,"/workspaces"),"POST",{enabled:n,...e,async onSuccess(t){for(var s,l=arguments.length,n=Array(l>1?l-1:0),i=1;i<l;i++)n[i-1]=arguments[i];d.setQueryData([r.m1,{orgId:null==a?void 0:a.uuid,workspaceId:t.id}],t),await d.invalidateQueries({queryKey:[r.QR,{orgId:null==a?void 0:a.uuid,includeArchived:!1}]}),await (null==(s=e.onSuccess)?void 0:s.call(e,t,...n))}})};function f(e){return"default"===e}function p(e){return(null==e?void 0:e.name)==="Claude Code"}},0x9c38628:(e,t,a)=>{a.d(t,{C:()=>f,WorkspaceProvider:()=>m});var s=a(0x22102fd88),l=a(0x14dc7c241),n=a(0x75fd21e),r=a(0x1016c6ed2),i=a(0xc1dd9efc),o=a(0x4d348f95),d=a(0xfc89b4a4),c=a(0x77a6f0a);let u={id:"default",name:"Default",display_color:"#9B87F5",created_at:""},x=(0,d.createContext)(null),m=e=>{let{children:t,sessionStorage:a=!0}=e,{isLoading:i,account:m,activeOrganization:f}=(0,l.YL)(),h=!!(m&&f)&&p({account:m,organization:f}),{data:g,isLoading:v}=(0,c.Iq)({enabled:h}),{workspace_id:y}=(0,o.useParams)(),[b,j]=(0,n.Wz)("workspaceId","default"),w=y||(a?b:void 0),{data:C,error:N}=(0,c.Vl)({enabled:!!w&&!(0,c.V1)(w),workspaceId:w||""});(0,d.useEffect)(()=>{a&&j(w||"default")},[a,j,w]),(0,d.useEffect)(()=>{N instanceof r.LG&&404===N.statusCode&&j("default")},[N,j]);let k=(0,d.useMemo)(()=>[u,...h?g||(C?[C]:[]):(null==m?void 0:m.workspace_memberships.filter(e=>e.organization_id===(null==f?void 0:f.id)).map(e=>e.workspace))||[]],[h,g,C,m,f]),_=(0,d.useMemo)(()=>k.find(e=>e.id===w),[k,w]);return(0,s.jsx)(x.Provider,{value:{isLoading:i||h&&v,workspaces:k,currentWorkspace:_,setWorkspaceIdSessionStorage:j},children:t})},f=()=>{let e=(0,d.useContext)(x);if(!e)throw Error("Must call inside WorkspaceProvider");return e},p=e=>{var t;let{organization:a,account:s}=e,l=null==(t=s.memberships.find(e=>e.organization.uuid===a.uuid))?void 0:t.role;return!!(l&&i.E5[l])}},0x24833b43:(e,t,a)=>{a.d(t,{FirstCreditPurchaseModalProvider:()=>v,k:()=>y});var s=a(0x22102fd88),l=a(0x4d348f95),n=a(0xfc89b4a4),r=a(0x183548b63),i=a(0x3a0a6e14),o=a(0x225bae024),d=a(0xac16909a);let c=e=>{let{onClose:t}=e,a=(0,l.useRouter)();return(0,s.jsxs)("div",{className:"flex flex-col flex-end gap-8 py-2",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2 self-stretch",children:[(0,s.jsx)("h1",{className:"text-text-000 text-2xl font-semibold",children:"You’re in!"}),(0,s.jsx)("h3",{className:"text-text-200 text-lg",children:"Prompt in the Claude Console or use the API"})]}),(0,s.jsxs)("div",{className:"flex flex-row content-center items-start gap-8 self-stretch ",children:[(0,s.jsx)(d.j,{imageSource:"/images/explore_console.svg",title:"Explore Console",description:"Create and evaluate prompts in the Claude Console",buttonLabel:"Prompt in Console",onClick:()=>{a.push("/workbench/new"),t()}}),(0,s.jsx)(d.j,{imageSource:"/images/api_reference.svg",title:"Start with API",description:"Get started with the Claude API or Client SDK",buttonLabel:"Create API key",onClick:()=>{a.push("/settings/keys"),t()},baseTestId:"create-first-key-item"})]}),(0,s.jsx)(o.$,{variant:"secondary",className:"w-full",onClick:()=>{a.push("/settings/billing"),t()},children:"Manage credits"})]})};var u=a(0x1ed3e99a2);let x={DEFAULT:{title:"Start building with Claude",subtitle:"Launch your first project with just $5 and use your credits flexibly in the Claude Console, Claude Code and the API"},BUY_CREDITS:{title:"Buy credits to get started",subtitle:"Credits are consumed by usage in the Claude Console, Claude Code and the API"},ADD_FUNDS:{title:"Buy credits",subtitle:"Credits are consumed by usage in the Claude Console, Claude Code and the API"}};function m(e){let{isOpen:t,onClose:a,purchaseAmount:l=500,copyType:o,setPurchaseModalState:d,steps:m}=e,[f,p]=(0,n.useState)(0),[h,g]=(0,n.useState)(m[0]),v=x[o||"DEFAULT"].title,y=x[o||"DEFAULT"].subtitle,b=(0,n.useCallback)(()=>{f===m.length-1?a():p(f+1)},[f,a,m]),j=(0,n.useMemo)(()=>({credit_purchase:(0,s.jsx)(u.$,{onNext:b,defaultPurchaseAmount:l,subtitle:y,setPurchaseModalState:d}),final_navigation_administrative:(0,s.jsx)(c,{onClose:a}),create_first_key:(0,s.jsx)(i.f,{onClose:a})}),[b,l,a,d,y]),w=j[m[0]],[C,N]=(0,n.useState)(w);return((0,n.useEffect)(()=>{let e=m[f];e!==h&&(g(e),N(j[e]))},[h,g,f,j,m]),"create_first_key"===h)?(0,s.jsx)(s.Fragment,{children:C}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(r.aF,{isOpen:t,onClose:a,modalSize:"xl",className:"max-w-3xl",hasCloseButton:!0,backgroundColor:"bg-bg-200",fullWidth:!1,autoCloseOnFocusOut:!1,closeOnEscapeKeydown:!1,title:(0,s.jsx)("div",{className:"text-2xl font-medium px-4",children:"final_navigation_administrative"!==h&&v}),children:C})})}var f=a(0x14dc7c241),p=a(0xc1dd9efc),h=a(0x3ea357b0);let g=(0,n.createContext)(null);function v(e){let{children:t}=e,a=(0,l.useRouter)(),[r,i]=(0,n.useState)("none"),[o,d]=(0,n.useState)(["credit_purchase","final_navigation_administrative"]),c=function(){let{account:e,activeOrganization:t}=(0,f.YL)(),{data:a}=(0,h.DU)(),s=!(null==a?void 0:a.setup_required),l=(0,p.yI)(e,t,p.Nt.BillingManage);return(null==t?void 0:t.billing_type)!=="prepaid"&&(null==t?void 0:t.billing_type)!=="usage_based"&&s&&l}(),u="none"!==r||c,[x,v]=(0,n.useState)(!1),[y,b]=(0,n.useState)({copyType:"DEFAULT"}),j=(0,n.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.steps&&d(e.steps),u?(b(e),v(!0),i("pending")):e.redirectToBillingOnFallback?a.push("/settings/billing"):e.customFallback&&e.customFallback()},[u,a]),w=(0,n.useCallback)(()=>{v(!1),i("none")},[]);return(0,s.jsxs)(g.Provider,{value:{startCreditPurchaseFlow:j,closeModal:w,isOpen:x,purchaseModalState:r,setPurchaseModalState:i},children:[t,u&&(0,s.jsx)(m,{isOpen:x,onClose:w,copyType:y.copyType,purchaseAmount:y.purchaseAmount||500,setPurchaseModalState:i,steps:o},o.join("_"))]})}function y(){let e=(0,n.useContext)(g);if(!e)throw Error("useFirstCreditPurchaseFlow must be used within a FirstCreditPurchaseModalProvider");return e}},0x3a0a6e14:(e,t,a)=>{a.d(t,{f:()=>N});var s=a(0x22102fd88),l=a(0xa5acf583),n=a(0x14dc7c241),r=a(0xbaa653da),i=a(0x225bae024),o=a(0x1b03847fb),d=a(0x183548b63),c=a(0xbb84ce70),u=a(0x1e1f2a153),x=a(0x8230b9c),m=a(0x38d1b36b),f=a(0x108c5aa05),p=a(0x4d348f95),h=a(0xfc89b4a4),g=a(0x24c89d75),v=a(0x15fd1f4ee),y=a(0x1fea09cd4),b=a(0x9c38628),j=a(0x151838d0c),w=a(0x8cb01d34),C=a(0xac16909a);let N=e=>{var t;let{onClose:a}=e,{currentWorkspace:o,setWorkspaceIdSessionStorage:c}=(0,b.C)(),{backendPrivateApiUrl:f}=(0,l._r)(),{account:j}=(0,n.YL)(),[w,N]=(0,h.useState)(2),[_,S]=(0,h.useState)("".concat((null==j||null==(t=j.display_name)?void 0:t.toLowerCase())||"your","-onboarding-api-key")),I=(0,p.useRouter)(),A=(0,h.useCallback)(()=>{N(w+1)},[w]),L=(0,h.useCallback)(e=>{c(e)},[c]),{mutate:P,data:E,isPending:z}=(0,y.qM)(),{copyToClipboard:D,didCopy:T}=(0,u.C)(),M="    curl ".concat(f,'/v1/messages \\\n        --header "x-api-key: ').concat(null==E?void 0:E.raw_key,'" \\\n        --header "anthropic-version: 2023-06-01" \\\n        --header "content-type: application/json" \\\n        --data \\\n    \'{\n        "model": "claude-sonnet-4-20250514",\n        "max_tokens": 1024,\n        "messages": [\n            {"role": "user", "content": "Hello, world"}\n        ]\n    }\''),{copyToClipboard:F,didCopy:R}=(0,u.C)();(0,h.useEffect)(()=>{E&&2===w&&A()},[E,w,A]);let O=(0,h.useCallback)((e,t)=>{P({name:e,workspaceId:t})},[P]),Q=_.length>0&&_.length<=500,K=!_||!Q||!(null==o?void 0:o.id);return E?3===w?(0,s.jsx)(d.aF,{isOpen:!0,title:"Save your API Key",subtitle:"Keep a record of your API key, you won’t be able to view it again",onClose:()=>a(),hasCloseButton:!1,modalSize:"xl",children:(0,s.jsxs)("div",{className:"gap-1 flex flex-col pt-6",children:[(0,s.jsxs)("div",{className:"bg-accent-secondary-900 border-0.5 border-border-400 rounded-lg pb-3.5 pl-3 pr-3 pt-2",children:[(0,s.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(0,s.jsx)("p",{className:"text-text-500 uppercase text-sm",children:"API Key"}),(0,s.jsx)("div",{className:"justify-end",children:T?(0,s.jsxs)("div",{className:"text-accent-secondary-100 inline-flex items-center px-3 py-1.5 font-medium",children:[(0,s.jsx)(m.J,{className:"mr-1 h-4 w-4"}),"Copied"]}):(0,s.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>{var e;D(null!=(e=null==E?void 0:E.raw_key)?e:"")},className:"hover:bg-accent-secondary-200 hover:text-oncolor-100 font-medium",prepend:(0,s.jsx)(x.Q,{className:"h-4 w-4"}),children:"Copy"})})]}),(0,s.jsx)("p",{className:"text-text-000 break-all py-2 pl-2 pr-2 font-mono",children:E.raw_key})]}),(0,s.jsxs)("div",{className:"flex flex-row justify-between items-center pt-6",children:[(0,s.jsx)("p",{className:"text-text-100 text-lg",children:"Test your API key with the example below:"}),(0,s.jsx)("div",{className:"justify-end",children:R?(0,s.jsxs)("div",{className:"text-accent-secondary-100 inline-flex items-center px-3 py-1.5 font-medium",children:[(0,s.jsx)(m.J,{className:"mr-1 h-4 w-4"}),"Copied"]}):(0,s.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>{F(M)},className:"hover:bg-accent-secondary-200 hover:text-oncolor-100 font-medium",prepend:(0,s.jsx)(x.Q,{className:"h-4 w-4"}),children:"Copy"})})]}),(0,s.jsx)("div",{className:"flex flex-col relative",children:(0,s.jsx)(g.A,{lineNumberStyle:{minWidth:"3rem"},customStyle:{maxHeight:"32rem"},language:"bash",PreTag:"div",style:v.A,showLineNumbers:!0,children:M})}),(0,s.jsx)(i.$,{className:"mt-6",variant:"primary",onClick:A,children:"Continue"})]})}):4===w?(0,s.jsx)(d.aF,{isOpen:!0,onClose:()=>a(),hasCloseButton:!1,modalSize:"xl",children:(0,s.jsxs)("div",{className:"flex flex-col flex-end gap-8 py-2",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2 self-stretch",children:[(0,s.jsx)("h1",{className:"text-text-000 text-2xl font-semibold",children:"You’re in!"}),(0,s.jsx)("h3",{className:"text-text-200 text-lg",children:"Prompt in the Claude Console or explore the API docs"})]}),(0,s.jsxs)("div",{className:"flex flex-row content-center items-start gap-8 self-stretch ",children:[(0,s.jsx)(C.j,{imageSource:"/images/explore_console.svg",title:"Explore Console",description:"Create and evaluate prompts in the Claude Console",buttonLabel:"Prompt in console",onClick:()=>{I.push("/workbench/new"),a()}}),(0,s.jsx)(C.j,{imageSource:"/images/api_reference.svg",title:"API Reference",description:"Explore our API and Client SDK documentation",buttonLabel:"Explore API docs",link:"https://docs.claude.com/"})]}),(0,s.jsx)(i.$,{variant:"secondary",className:"w-full",onClick:()=>{I.push("/settings/keys"),a()},children:"Manage API keys"})]})}):void 0:(0,s.jsx)(d.aF,{isOpen:!0,title:"Create your first API key",subtitle:"Create an API key to access the Claude API or client SDKs. You can manage your keys in Settings",onClose:()=>a(),hasCloseButton:!1,modalSize:"lg",children:(0,s.jsx)(r.lV,{onSubmit:()=>{K||z||O(_,null==o?void 0:o.id)},className:"flex flex-col gap-2",children:(0,s.jsxs)("div",{className:"pt-4 flex flex-col",children:[(0,s.jsx)(r.JU,{label:"Key Name"}),(0,s.jsx)(r.ks,{type:"text",autoFocus:!0,automaticallyFocusAndSelect:!0,value:_,onChange:e=>{S(e.target.value)}}),(0,s.jsx)(r.JU,{className:"pt-3",label:"Workspace"}),(0,s.jsx)("div",{className:"flex flex-col w-full",children:(0,s.jsx)(k,{onSelect:L})}),(0,s.jsx)(i.$,{className:"mt-6",variant:"primary",disabled:!_||!(null==o?void 0:o.id),loading:z,onClick:()=>O(_,null==o?void 0:o.id),children:"Create API Key"})]})})})};function k(e){let{onSelect:t}=e,{currentWorkspace:a,isLoading:l}=(0,b.C)();return l||!a?(0,s.jsx)(c.j,{width:100,height:32}):(0,s.jsx)("div",{className:"flex flex-col w-full",children:(0,s.jsx)(o.ms,{unstyledTrigger:!0,align:"start",avoidCollisions:!1,trigger:(0,s.jsx)(i.$,{variant:"secondary",size:"lg",className:"!text-sm !font-normal w-full flex justify-between items-center",append:(0,s.jsx)(f.a,{size:16}),children:(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)(j.t,{workspaceId:a.id})})}),sideOffset:8,className:"w-full",children:(0,s.jsx)(w.p,{selectedOption:a,onSelectOption:e=>{"all_workspaces"!==e&&t(e.id)}})})})}},0x609a9c34:(e,t,a)=>{a.d(t,{E:()=>s.E});var s=a(0x1b32aa1e2)},0x8cb01d34:(e,t,a)=>{a.d(t,{p:()=>m,w:()=>x});var s=a(0x22102fd88),l=a(0x1b03847fb),n=a(0x609a9c34),r=a(0x156f59e33),i=a(0x38d1b36b),o=a(0x77a6f0a),d=a(0x9c38628),c=a(0x151838d0c);function u(e,t){return"all_workspaces"===e||"all_workspaces"===t?e===t:e.id===t.id}function x(){return(0,s.jsxs)("div",{className:"inline-flex items-center gap-2",children:[(0,s.jsx)(r.X,{size:16,className:"text-text-400"}),(0,s.jsx)("span",{className:"text-sm",children:"All workspaces"})]})}function m(e){let{selectedOption:t,onSelectOption:a,includeAllWorkspacesOption:r=!1,hideClaudeCode:m=!1}=e,{workspaces:f}=(0,d.C)(),p=m?f.filter(e=>!(0,o.$W)(e)):f;return(0,s.jsxs)(n.E,{className:"max-h-[20.5rem] rr-mask",children:[r&&(0,s.jsxs)(l.tJ,{onSelect:()=>a("all_workspaces"),className:"text-sm",children:[(0,s.jsx)(x,{}),u("all_workspaces",t)&&(0,s.jsx)(i.S,{size:16,className:"text-accent-main-100"})]}),!r&&(0,s.jsx)("span",{className:"text-text-400 text-xs ml-2",children:"Workspaces"}),p.map(e=>(0,s.jsxs)(l.tJ,{onSelect:()=>a(e),className:"text-sm",children:[(0,s.jsx)(c.t,{workspaceId:e.id}),u(e,t)&&(0,s.jsx)(i.S,{size:16,className:"text-accent-main-100"})]},e.id))]})}},0xac16909a:(e,t,a)=>{a.d(t,{j:()=>r});var s=a(0x22102fd88),l=a(0x225bae024),n=a(0xcaa21d58);let r=e=>{let{imageSource:t,title:a,description:r,buttonLabel:i,onClick:o,link:d,baseTestId:c}=e;return(0,s.jsxs)("div",{className:"flex flex-1 flex-col h-[372px] px-10 py-7 justify-between items-center rounded-xl border border-border-300",children:[(0,s.jsx)("div",{className:"w-full flex justify-center h-20",children:(0,s.jsx)(n.default,{alt:a,src:t,height:"72",width:"82"})}),(0,s.jsxs)("div",{className:"flex flex-col content-center items-center gap-3 self-stretch h-24",children:[(0,s.jsx)("p",{className:"text-text-000 text-center text-lg font-semibold",children:a}),(0,s.jsx)("p",{className:"text-text-300 text-center text-sm",children:r})]}),(0,s.jsx)(l.$,{variant:"secondary",option:"rounded",size:"lg",className:"min-w-6xl justify-center items-center gap-2 flex-shrink-0 self-stretch !border-border-300",href:d,onClick:o,target:(null==d?void 0:d.startsWith("http"))?"_blank":void 0,"data-testid":"".concat(c,"-button"),children:i})]})}},0xdd00a1e9:(e,t,a)=>{a.d(t,{AM:()=>c,DG:()=>j,FV:()=>b,MS:()=>f,Wn:()=>y,cm:()=>p,ms:()=>d,o_:()=>h,tJ:()=>v});var s=a(0x22102fd88),l=a(0x11cf7113d),n=a(0xd3689dfd),r=a(0x1a1f6dda6),i=a(0x1fb5bdc42),o=a(0xfc89b4a4);function d(e){let{trigger:t,children:a,unstyledTrigger:l=!1,...n}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(u,{...n,trigger:l?(0,s.jsx)(i.l9,{asChild:!0,children:t}):(0,s.jsx)(m,{asChild:!0,children:t}),children:a})})}function c(e){let{children:t,open:a,mainButtonText:l,onClickMainButton:o,align:d="end",...c}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(u,{...c,align:d,trigger:(0,s.jsxs)("div",{className:"flex h-8 whitespace-nowrap",children:[(0,s.jsx)("button",{className:(0,r.A)("font-base-bold !text-xs rounded-l-lg bg-bg-000 h-full flex items-center justify-center px-2 border-y-0.5 border-l-0.5 border-border-200 hover:bg-bg-200",a&&"bg-bg-200"),onClick:o,children:l}),(0,s.jsx)(i.l9,{asChild:!0,children:(0,s.jsx)("button",{className:"bg-bg-000 flex items-center justify-center px-1 hover:bg-bg-200 rounded-r-lg border-0.5 border-border-200",children:(0,s.jsx)(n.biH,{size:16})})})]}),children:t})})}function u(e){var t;let{matchTriggerWidth:a=!1,children:l,open:n,onOpenChange:r,trigger:o,modal:d,...c}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(i.bL,{open:n,onOpenChange:r,modal:d,children:[o,(0,s.jsx)(i.ZL,{children:(0,s.jsx)(x,{style:a?{width:"var(--radix-dropdown-menu-trigger-width)"}:void 0,sideOffset:null!=(t=c.sideOffset)?t:4,...c,children:l})})]})})}(0,o.forwardRef)((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(i.lp,{ref:t,className:(0,r.A)("outline-none py-2 px-1.5 -mx-1 -mt-1 mb-1 border-b-0.5 border-border-200",a),...l})}).displayName="DropdownInputHeader";let x=(0,o.forwardRef)((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(i.UC,{ref:t,className:(0,r.A)("p-1.5",l.io,l.dk,a),...n})});x.displayName="Content";let m=(0,o.forwardRef)((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(i.l9,{ref:t,className:(0,r.A)("rounded py-1 px-2 max-w-full whitespace-nowrap text-ellipsis overflow-hidden",a),...l})});m.displayName="Trigger",i.I;let f=i.Pb,p=i.ZL,h=(0,o.forwardRef)((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(i.lp,{ref:t,className:(0,r.A)(l.bS,a),...n})});h.displayName="DropdownLabel";let g=(0,o.forwardRef)((e,t)=>{let{className:a,disabled:n,danger:o,...d}=e;return(0,s.jsx)(i.q7,{ref:t,className:(0,r.A)(l.MQ,n&&l.BK,o&&l.uz,a),...d})});g.displayName="BaseDropdownItem";let v=(0,o.forwardRef)((e,t)=>{let{children:a,icon:l,trailing:n,...r}=e;return l||n?(0,s.jsx)(g,{ref:t,...r,children:(0,s.jsxs)("div",{className:"flex items-center gap-2 w-full font-base group",children:[l,(0,s.jsx)("span",{className:"flex-1 truncate",children:a}),n&&(0,s.jsx)("div",{className:"flex items-center flex-shrink-0 -mr-2",children:n})]})}):(0,s.jsx)(g,{ref:t,...r,children:a})});v.displayName="DropdownItem";let y=(0,o.forwardRef)((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(i.ZP,{ref:t,className:(0,r.A)('font-base min-h-8 px-2 py-1.5 rounded-lg cursor-pointer whitespace-nowrap overflow-hidden text-ellipsis grid grid-cols-[minmax(0,_1fr)_auto] gap-2 items-center outline-none select-none [&[data-highlighted]]:bg-bg-200 [&[data-highlighted]]:text-text-300 [&[data-state="open"]:not([data-highlighted])]:bg-bg-100 [&[data-state="open"]:not([data-highlighted])]:text-text-300',a),...l})});y.displayName="DropdownSubTrigger";let b=(0,o.forwardRef)((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(i.G5,{ref:t,className:(0,r.A)("p-1.5",l.io,"max-h-[calc(100vh-16px)] overflow-y-auto overflow-x-hidden",a),...n})});b.displayName="DropdownSubContent";let j=(0,o.forwardRef)((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(i.mB,{ref:t,className:(0,r.A)(l.uR,a),...n})});j.displayName="DropdownSeparator"},0x151838d0c:(e,t,a)=>{a.d(t,{t:()=>m});var s=a(0x22102fd88),l=a(0x14023fbb8),n=a(0xbb84ce70),r=a(0x1b370f49d),i=a(0x1143d57a2),o=a(0x156f59e33),d=a(0xfc89b4a4),c=a(0x9c38628);function u(e){let{workspace:t,isLoading:a,size:n=16}=e;return a?(0,s.jsx)(l.R,{size:"sm"}):t?(0,s.jsx)(o.I,{size:n,color:t.display_color}):(0,s.jsx)(i.N,{size:n,className:"text-danger-000"})}function x(e){let{workspace:t,isLoading:a}=e;return a?(0,s.jsx)(n.j,{width:100,height:20}):t?(0,s.jsx)("span",{className:"text-sm",children:t.name}):(0,s.jsx)("span",{className:"text-sm text-danger-000",children:"Unknown workspace"})}function m(e){let{workspaceId:t,compact:a=!1,size:l}=e,{workspaces:n,isLoading:i}=(0,c.C)(),o=(0,d.useMemo)(()=>n.find(e=>e.id===t),[n,t]);return(0,s.jsx)(r.m,{tooltipContent:null==o?void 0:o.name,side:"left",children:(0,s.jsxs)("div",{className:"inline-flex items-center gap-2",children:[(0,s.jsx)(u,{workspace:o,isLoading:i,size:l}),!a&&(0,s.jsx)(x,{workspace:o,isLoading:i})]})})}},0x1b03847fb:(e,t,a)=>{a.d(t,{AM:()=>s.AM,DG:()=>s.DG,FV:()=>s.FV,MS:()=>s.MS,Wn:()=>s.Wn,cm:()=>s.cm,ms:()=>s.ms,o_:()=>s.o_,tJ:()=>s.tJ});var s=a(0xdd00a1e9)},0x1b32aa1e2:(e,t,a)=>{a.d(t,{E:()=>i});var s=a(0x22102fd88),l=a(0x7422d213),n=a(0x1a1f6dda6),r=a(0xfc89b4a4);let i=e=>{let{hideBottomShadow:t,scrollContainerRef:a,persistedScrollToRef:l,...n}=e,i=(null==l?void 0:l.current)!==void 0,d=(0,r.useRef)(null),c=a||d,u=(0,r.useCallback)(()=>{let e=c.current;if(e&&!t){let{scrollTop:t,offsetHeight:a,scrollHeight:s}=e;t+a>=s?e.classList.remove("has-bottom-scroll"):e.classList.add("has-bottom-scroll"),i&&0!==t&&Math.abs(t-l.current)>10&&(l.current=t)}},[t,c,i,l]);return u(),(0,r.useEffect)(()=>{let e=c.current;requestAnimationFrame(()=>{i&&e&&(null==e||e.scrollTo({top:l.current,behavior:"instant"}))})},[c,i,l]),(0,r.useEffect)(()=>{let e=c.current;return null==e||e.addEventListener("scroll",u),()=>null==e?void 0:e.removeEventListener("scroll",u)},[u,c]),(0,s.jsx)(o,{ref:c,...n,children:n.children})},o=(0,r.forwardRef)((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.A)(l.M,a),...r})});o.displayName="ScrollContainer"},0x1b370f49d:(e,t,a)=>{a.d(t,{m:()=>s.Tooltip});var s=a(0xb3796c53)},0x1e1f2a153:(e,t,a)=>{a.d(t,{C:()=>s.C,u:()=>s.u});var s=a(0xc459f9d1)},0x1ed3e99a2:(e,t,a)=>{a.d(t,{$:()=>_});var s=a(0x22102fd88),l=a(0xf32c56dd),n=a(0xa5acf583),r=a(0x14dc7c241),i=a(0x1bdad8807),o=a(0xbaa653da),d=a(0x225bae024),c=a(0xe3833d47),u=a(0x23ed6222b),x=a(0x9845e38c),m=a(0x1a1f6dda6),f=a(0xfc89b4a4),p=a(0x22be9474c),h=a(0x3ea357b0),g=a(0x215f3d6df);a(0x14023fbb8);var v=a(0x1f0218c95),y=a(0x10b8a0309);function b(e){let{title:t,summary:a,children:l,defaultOpen:n=!1,open:r,onOpenChange:i,className:o}=e,[d,c]=(0,f.useState)(n),u=null!=r?r:d;return(0,s.jsxs)("div",{className:o,children:[(0,s.jsxs)("button",{type:"button",onClick:()=>{i?i(!u):c(!u)},className:"w-full flex items-center justify-between p-4 text-left","aria-expanded":u,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-text-100 font-medium",children:t}),a&&(0,s.jsx)("div",{className:"text-text-500 text-sm",children:a})]}),(0,s.jsx)(y.K,{className:(0,m.A)("text-text-500 transition-transform",u&&"rotate-90"),size:20})]}),(0,s.jsx)("div",{className:(0,m.A)("px-4 pb-4 transition-[max-height,opacity,padding] duration-200 origin-top",u?"max-h-[1000px] opacity-100":"max-h-0 opacity-0 !p-0 pointer-events-none"),"aria-hidden":!u,children:l})]})}let j=(e=>{let t=(0,f.forwardRef)((t,a)=>{let l=(0,v.useElements)(),n=(0,v.useStripe)();return(0,f.useImperativeHandle)(a,()=>({elements:l,stripe:n}),[l,n]),(0,s.jsx)(e,{...t})});t.displayName="".concat(e.displayName,"-ExposedElements");let a=(0,f.forwardRef)((e,a)=>{let{elementsOptions:l,region:n,...r}=e,o=(0,i.ib)(n);return(0,s.jsx)(v.Elements,{options:l,stripe:o,children:(0,s.jsx)(t,{ref:a,...r})},n)});return a.displayName="".concat(e.displayName,"-WrappedElements"),a})(e=>{let{onReady:t,disabled:a,onCompleteChange:l,onAddressChange:n,onCountryChange:i,onNameChange:o,defaultCountry:d,defaultName:c}=e,u=(0,v.useElements)(),{account:x}=(0,r.YL)(),m=(()=>{let{supportedRegions:e}=(0,g.D)("console");return(0,f.useMemo)(()=>e.filter(e=>e.stripe_address_supported).map(e=>e.code),[e])})(),[p,h]=(0,f.useReducer)(e=>e+1,0),y=2===p;(0,f.useEffect)(()=>{y&&t()},[y,t]);let[j,w]=(0,f.useState)(!1),[C,N]=(0,f.useState)(!1),[k,_]=(0,f.useState)(!0);(0,f.useEffect)(()=>{if(!y)return;let e=null==u?void 0:u.getElement("payment");if(!e)return;let t=e=>{w(e.complete)};return e.on("change",t),()=>{e.off("change",t)}},[y,u]);let[S,I]=(0,f.useState)(!1),[A,L]=(0,f.useState)(!1),[P,E]=(0,f.useState)();return(0,f.useEffect)(()=>{if(!y)return;let e=null==u?void 0:u.getElement("address");if(!e)return;let t=e=>{I(e.complete),null==n||n(e.value.address),e.complete&&!A&&(L(!0),_(!1),N(!0));let t=e.value.address.country;t!==P&&(E(t),null==i||i(t)),e.value.name&&(null==o||o(e.value.name))};return e.on("change",t),()=>{e.off("change",t)}},[y,u,n,i,o,P,A]),(0,f.useEffect)(()=>{l(j&&S)},[j,S,l]),(0,s.jsxs)("div",{className:"space-y-4 text-text-100",children:[(0,s.jsx)(b,{title:"Billing Address",open:k,onOpenChange:_,children:(0,s.jsx)(v.AddressElement,{options:{mode:"billing",allowedCountries:m,defaultValues:{name:null!=c?c:null==x?void 0:x.full_name,address:d?{country:d}:void 0}},onReady:h})}),(0,s.jsx)(b,{title:"Credit Card",open:C,onOpenChange:N,children:(0,s.jsx)(v.PaymentElement,{options:{readOnly:a,layout:"tabs",terms:{card:"never"},defaultValues:{billingDetails:{email:null==x?void 0:x.email_address,name:null==x?void 0:x.full_name}},wallets:{applePay:"never",googlePay:"never"}},onReady:h})})]})});var w=a(0x1a54a8de6),C=a(0x19d0e2d1f),N=a(0x1c4fb6566),k=a(0x29fb2c10);function _(e){var t,a,g;let{onNext:v,defaultPurchaseAmount:y=500,subtitle:b="Launch your first project with just $5 and use your credits flexibly in both the Claude Console and API",centerSubtitle:_=!1,setPurchaseModalState:S}=e,[I,A]=(0,f.useState)(y),[L,P]=(0,f.useState)(!1),{isSubmitting:E,startPurchase:z,start:D,reset:T,error:M,PurchaseProgressBar:F,advanceStep:R}=(0,N.z)({startStep:1,onComplete:()=>{v()},onError:()=>{},setPurchaseModalState:S,isSetupFlow:!1}),{activeOrganization:O}=(0,r.YL)(),{ipCountry:Q}=(0,n._r)(),K=(0,l.st)(),[q,Y]=(0,f.useState)(null!=Q?Q:void 0),[W,B]=(0,f.useState)(),U=(0,i.Ak)(q),{mutateAsync:V}=(0,i.zW)(),$=(0,f.useRef)(null),J=(0,f.useRef)(null),[G,H]=(0,f.useState)(!1);(0,f.useEffect)(()=>{H(!1)},[U]),(0,f.useEffect)(()=>{K.track({event_key:"billing.upgrade.payment_info.loaded"}),K.track({event_key:"billing.upgrade.setup_billing.loaded"})},[K]);let{data:Z}=(0,h.fZ)(),[X,ee]=(0,f.useState)(!1),[et,ea]=(0,f.useState)(!0),[es,el]=(0,f.useState)(!0),[en,er]=(0,f.useState)(),[ei,eo]=(0,f.useState)(),[ed,ec]=(0,f.useState)(""),[eu,ex]=(0,f.useState)(null),[em,ef]=(0,f.useState)(),{mutate:ep,data:eh}=(0,h.Pz)(),eg=(0,f.useCallback)(async()=>{var e;if(en&&et)return en;let t=et?$:J;if(!(null==(e=t.current)?void 0:e.elements))throw Error("Stripe elements not initialized");let a=t.current.elements.getElement("address");if(!a)throw Error("Address element not found");let s=await a.getValue();if(!s.complete)throw Error("Address is incomplete");return s.value.address},[et,en]);(0,f.useEffect)(()=>{E||(async()=>{try{if(I&&es){let t=await eg();if(t){var e;ep({price:I,shipping_address:{...t,line2:null!=(e=t.line2)?e:void 0},tax_id:ed&&ei?{value:ed,type:ei,country:t.country}:void 0})}}}catch(e){}})()},[I,ep,es,ed,ei,et,E,en,eg]),(0,f.useEffect)(()=>{eh&&null!==eh.taxAmount?ex(eh.taxAmount):ex(null)},[eh]);let ev=null==(t=$.current)?void 0:t.elements,ey=null==(a=$.current)?void 0:a.stripe,eb=I>=500&&I<=1e4,ej=!!(X&&es&&ev&&ey&&eb&&G),ew=(0,w.gU)(),{mutateAsync:eC,error:eN}=(0,p.yU)(),ek=(null==eN?void 0:eN.message)||M,{mutateAsync:e_}=(0,h.ZA)(),eS=(0,h.qs)(),eI=(0,h.zM)(),eA=async()=>{if(!ev||!ey)return void x.v.error(x.u.BILLING,"Stripe elements not ready");D(20),ef(void 0),eS.reset(),S&&S("submitting");try{let e,t=await eg();ed&&ei&&(e={value:ed,type:ei,country:null==t?void 0:t.country});let a=!ed;await eC({physical_address:t,tax_id:e,remove_tax_id:a}),R(40);let{error:s}=await ev.submit();if(s){ef(s.message),K.track({event_key:"billing.upgrade.payment_info.submitted",result:"failure",failure_reason:s.type}),S&&S("error"),T();return}let l=await V({country:null!=q?q:null});R(60);let n=new URLSearchParams({action:"setup_payment_info"}),r=new URL(window.location.origin);r.pathname="/settings/billing",O&&(r.pathname+="/".concat(O.uuid)),r.search=n.toString();let i=r.toString(),{error:o}=await ey.confirmSetup({elements:ev,clientSecret:l.clientSecret,redirect:"if_required",confirmParams:{return_url:i}});if(o&&"validation_error"!==o.type){ef(o.message),K.track({event_key:"billing.upgrade.payment_info.submitted",result:"failure",failure_reason:o.type}),S&&S("error"),T();return}if(K.track({event_key:"billing.upgrade.payment_info.submitted",result:"success"}),await e_({expect_update:!0}),(null==O?void 0:O.billing_type)!=="prepaid")try{await eI.mutateAsync()}catch(e){if(!(e instanceof Error&&"already_prepaid"===e.message))throw e}R(60);let d=await eS.mutateAsync({amount:I});await z(d)}catch(e){x.v.error(x.u.BILLING,"Payment flow error",{error:e}),S&&S("error"),T()}};return(0,s.jsxs)(o.lV,{onSubmit:()=>{ej&&!E&&eA()},className:"flex max-w-xl flex-col gap-2",children:[(0,s.jsx)("div",{className:"text-text-500 text-sm font-normal px-4 ".concat(_?"text-center":""),children:b}),(0,s.jsx)("div",{className:"bg-bg-200 rounded-lg p-4 text-center",children:(0,s.jsxs)("div",{className:"bg-bg-100 rounded-lg p-3 mb-0",children:[(0,s.jsxs)("div",{className:"w-full flex flex-col items-center",children:[(0,s.jsxs)("div",{className:"relative w-36 flex items-center ml-8",children:[(0,s.jsx)("div",{className:"text-3xl font-normal",children:"$"}),(0,s.jsx)("input",{type:"text",className:"w-full bg-transparent text-start text-3xl font-normal focus:outline-none focus:ring-0 focus:ring-offset-0 border-none",disabled:E,value:I?L||I/100>=100?(I/100).toString():(I/100).toFixed(2):"",onChange:e=>{let t=e.target.value.replace(/[^0-9.]/g,""),a=parseFloat(t);isNaN(a)?""===t&&A(0):A(Math.round(100*a))},onFocus:()=>P(!0),onBlur:()=>{P(!1)}})]}),!eb&&(0,s.jsx)("div",{className:"text-danger-000 text-xs text-center mt-1",children:"Amount must be between $5 and $100"})]}),(0,s.jsx)("div",{className:"text-text-500 text-xs text-normal mt-1",children:Z&&(0,s.jsxs)(s.Fragment,{children:["Current Balance:"," ",(0,u.vv)(Z.amount,"USD")]})})]})}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:(0,m.A)("max-h-full w-full",!G&&"invisible"),style:{minHeight:w.LV},children:(0,s.jsx)(j,{ref:$,region:U,elementsOptions:{mode:"setup",currency:"usd",payment_method_types:["card","link"],...ew},onReady:()=>H(!0),disabled:E,onCompleteChange:ee,onAddressChange:er,onCountryChange:Y,onNameChange:B,defaultCountry:q,defaultName:W})}),(0,s.jsx)("div",{className:"px-3",children:(0,s.jsx)(C.Q,{ref:J,className:(0,m.A)(!G&&"invisible"),elementsOptions:{mode:"setup",currency:"usd",payment_method_types:["card","link"],...ew},defaultAddress:en,onCompleteChange:el,same:et,setSame:ea})}),(0,s.jsx)(c.V,{title:"Business tax ID",subtitle:"If you are a business tax registrant, please enter your business tax ID here.",autoSelectFirst:!0,className:"mt-4 px-4",inputClassName:"bg-bg-400 text-sm",countryCode:null==en?void 0:en.country,onTaxIdTypeChange:eo,taxIdType:ei,onTaxIdChange:ec,taxId:ed}),!G&&(0,s.jsx)(w.p8,{})]}),ek&&(0,s.jsx)("div",{className:"text-danger-000 text-sm px-4 mb-4",children:ek}),em&&(0,s.jsx)("div",{className:"text-danger-000 text-sm px-4 mb-4",children:em}),(null==(g=eS.error)?void 0:g.message)&&(0,s.jsx)("div",{className:"text-danger-000 text-sm px-4 mb-4",children:eS.error.message}),(0,s.jsxs)("div",{className:"flex justify-between items-center text-text-100 font-medium mt-4 mb-2 px-4",children:[(0,s.jsx)("span",{children:"Total"}),(0,s.jsx)("span",{children:null!==eu?"".concat((0,u.vv)(I,"USD")," + ").concat((0,u.vv)(eu,"USD")," estimated taxes"):"".concat((0,u.vv)(I,"USD")," + taxes")})]}),F,(0,s.jsx)("div",{className:"px-4",children:(0,s.jsxs)(d.$,{type:"submit",className:"w-full",disabled:!ej||E,loading:E,"data-testid":"final-continue-button",children:["Buy"," ",(0,u.vv)(I,"USD",{preferWholeNumber:!0})," ","of credits"]})}),(0,s.jsx)(k.$,{})]})}},0x1fea09cd4:(e,t,a)=>{a.d(t,{AD:()=>h,Bn:()=>p,Dq:()=>v,EY:()=>m,LC:()=>c,TT:()=>x,Zf:()=>f,es:()=>d,m1:()=>g,qM:()=>u});var s=a(0x12c9046cd),l=a(0x14dc7c241),n=a(0x49fac030),r=a(0xc1dd9efc),i=a(0x17e725145);let o=e=>{let{account:t,activeOrganization:a,workspace:s}=e;return(s?(0,r.JL)({account:t,organization:a,workspace:s,permission:r.bp.UsageView}):(0,r.yI)(t,a,r.Nt.ApiView))&&!!(null==a?void 0:a.capabilities.includes("api"))},d=function(){let{workspace:e,enabled:t=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{account:a,activeOrganization:r}=(0,l.YL)(),i=o({account:a,activeOrganization:r,workspace:e});return(0,s.Sk)("/api/console/organizations/".concat(null==r?void 0:r.uuid,"/").concat(e?"workspaces/".concat(e.id,"/"):"","api_keys"),{enabled:i&&t,queryKey:[n.N3,{orgId:null==r?void 0:r.uuid,workspaceId:null==e?void 0:e.id}]})},c=()=>{let{account:e,activeOrganization:t}=(0,l.YL)(),a=(0,r.yI)(e,t,r.Nt.CostView);return(0,s.Sk)("/api/console/organizations/".concat(null==t?void 0:t.uuid,"/api_key_count"),{enabled:a,queryKey:[n.s1,{orgId:null==t?void 0:t.uuid}]})},u=()=>{let{activeOrganization:e}=(0,l.YL)(),t=null==e?void 0:e.capabilities.includes("api"),a=(0,i.useQueryClient)();return(0,s.L2)(t=>{let{workspaceId:a}=t;return"/api/console/organizations/".concat(null==e?void 0:e.uuid,"/workspaces/").concat(a||"default","/api_keys")},"POST",{transformVariables:e=>{let{name:t,...a}=e;return{name:t}},enabled:t,onSuccess(){a.invalidateQueries({queryKey:[n.N3,{orgId:null==e?void 0:e.uuid}]})}})},x=e=>{let{account:t,activeOrganization:a}=(0,l.YL)(),r=o({account:t,activeOrganization:a,workspace:e}),i=e?"/workspaces/".concat(e.id):"";return{hasPermission:r,query:(0,s.Sk)("/api/organizations/".concat(null==a?void 0:a.uuid).concat(i,"/api_keys/usage"),{enabled:r,queryKey:[n.wJ,{orgId:null==a?void 0:a.uuid,workspaceId:null==e?void 0:e.id}]})}};function m(e,t,a){let s=Object.fromEntries((null==t?void 0:t.api_keys.map(e=>[e.id,e.last_used_at]))||[]);return null==e?void 0:e.map(e=>{var t,l;return{...e,last_used_at:null!=(l=s[e.id])?l:"",cost:a.isLoading||a.isError?void 0:(a.totalTokenCosts[e.id]||0)+((null==(t=a.totalWebSearchCosts)?void 0:t[e.id])||0)||null}})}let f=()=>{let{activeOrganization:e}=(0,l.YL)(),t=null==e?void 0:e.capabilities.includes("api"),a=(0,i.useQueryClient)();return(0,s.L2)("/api/organizations/".concat(null==e?void 0:e.uuid,"/admin_api_keys"),"POST",{enabled:t,onSuccess(){a.invalidateQueries({queryKey:[n.Li,{orgId:null==e?void 0:e.uuid}]})}})},p=()=>{let{account:e,activeOrganization:t}=(0,l.YL)(),a=(0,r.yI)(e,t,r.Nt.OrganizationManage);return(0,s.Sk)("/api/organizations/".concat(null==t?void 0:t.uuid,"/admin_api_keys"),{enabled:a,queryKey:[n.Li,{orgId:null==t?void 0:t.uuid}]})},h=(e,t)=>{let a=(0,i.useQueryClient)(),{activeOrganization:r}=(0,l.YL)();return(0,s.L2)("/api/organizations/".concat(null==r?void 0:r.uuid,"/admin_api_keys/").concat(e),"POST",{async onSuccess(){await a.invalidateQueries({queryKey:[n.Li,{orgId:null==r?void 0:r.uuid}]}),null==t||t()}})},g=(e,t)=>{let a=(0,i.useQueryClient)(),{activeOrganization:r}=(0,l.YL)();return(0,s.L2)("/api/organizations/".concat(null==r?void 0:r.uuid,"/admin_api_keys/").concat(e,"/delete"),"POST",{async onSuccess(){await a.invalidateQueries({queryKey:[n.Li,{orgId:null==r?void 0:r.uuid}]}),null==t||t()}})},v=(e,t)=>{let a=(0,i.useQueryClient)(),{activeOrganization:r}=(0,l.YL)();return(0,s.L2)("/api/console/organizations/".concat(null==r?void 0:r.uuid,"/api_keys/").concat(e,"/assign_workspace"),"POST",{async onSuccess(){await a.invalidateQueries({queryKey:[n.N3,{orgId:null==r?void 0:r.uuid}]}),null==t||t()}})}}}]);